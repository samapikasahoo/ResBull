import React, { useState } from "react";

const ImageUploader = () => {
  const [files, setFiles] = useState([]);
  const [images, setImages] = useState([]);

  const handleImageChange = e => {
    console.log("handleImageChange");
    // FileList to Array
    let fileList = Array.from(e.target.files);
    console.log("fileList", fileList);
    // File Reader for Each file and and update state arrays
    fileList.forEach((files, i) => {
      let reader = new FileReader();

      reader.onloadend = () => {
        setFiles(prevFiles => [...prevFiles, files]);
        setImages(prevImages => [...prevImages, reader.result]);
      };

      reader.readAsDataURL(files);
    });
  };

  return (
    <div>
      <h1><img
        width="100" height="100"
            src="data:image/jpeg;base64,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"
            alt=""
        /></h1>
      <input
        className="upload"
        type="file"
        onChange={handleImageChange}
        multiple
      />
      <div>
        {images.map((images, i) => {
          return (
            <div key={i}>
              <img type="url" style={{ width: "80%" }} src={images} alt="a" />
            </div>
          );
        })}
      </div>
    </div>
  );
};
export default ImageUploader;
